<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dataexchange.xtomo.data_exchange &mdash; Data Exchange 0.2 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="top" title="Data Exchange 0.2 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Data Exchange 0.2 documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for dataexchange.xtomo.data_exchange</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;</span>

<span class="sd">.. module:: data_exchange.py</span>
<span class="sd">   :platform: Unix</span>
<span class="sd">   :synopsis: Subclasses the h5py module for interacting with Data Exchange files.</span>

<span class="sd">:Author:</span>
<span class="sd">  `David Vine &lt;mailto: djvine@gmail.com&gt;`_</span>

<span class="sd">:Organization:</span>
<span class="sd">  Argonne National Laboratory, Argonne, IL 60439 USA</span>

<span class="sd">:Version: 2014.11.23</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">import</span> <span class="nn">h5py</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">py3</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span>


<div class="viewcode-block" id="DataExchangeFile"><a class="viewcode-back" href="../../../resources/dataexchange.xtomo.data_exchange.html#dataexchange.xtomo.data_exchange.DataExchangeFile">[docs]</a><span class="k">class</span> <span class="nc">DataExchangeFile</span><span class="p">(</span><span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. class:: DataExchangeFile(object)</span>
<span class="sd">        Interact with Data Exchange files.</span>


<span class="sd">        :method create_top_level_group: Helper function for creating a top level group which will update the ``implements`` group automagically.</span>
<span class="sd">        :method add_entry: This method is used to parse DataExchangeEntry objects and add them to the DataExchangeFile.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DataExchangeFile</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;mode&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">]:</span> <span class="c">#New File</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="s">&#39;exchange&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">create_top_level_group</span><span class="p">(</span><span class="s">&#39;exchange&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c"># Verify this file conforms to Data Exchange guidelines</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">assert</span> <span class="s">&#39;implements&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="k">assert</span> <span class="s">&#39;exchange&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&#39;WARNING: File does not have either/both &quot;implements&quot; or &quot;exchange&quot; group&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="s">u&#39;&lt;Closed DataExchange file&gt;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c"># Filename has to be forced to Unicode if it comes back bytes</span>
            <span class="c"># Mode is always a &quot;native&quot; string</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>  <span class="c"># Can&#39;t decode fname</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;utf8&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">)</span>
            <span class="n">r</span> <span class="o">=</span> <span class="s">u&#39;&lt;DataExchange file &quot;</span><span class="si">%s</span><span class="s">&quot; (mode </span><span class="si">%s</span><span class="s">)&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filename</span><span class="p">),</span>
                                                 <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">py3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">r</span>
        <span class="k">return</span> <span class="n">r</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf8&#39;</span><span class="p">)</span>


<div class="viewcode-block" id="DataExchangeFile.create_top_level_group"><a class="viewcode-back" href="../../../resources/dataexchange.xtomo.data_exchange.html#dataexchange.xtomo.data_exchange.DataExchangeFile.create_top_level_group">[docs]</a>    <span class="k">def</span> <span class="nf">create_top_level_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. method:: create_top_level_group(self, group_name)</span>

<span class="sd">            Creates a group in the file root and updates the ``implements`` group accordingly.</span>
<span class="sd">            This method should ALWAYS be used to create groups in the file root.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span><span class="n">group_name</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">implements</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;/implements&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
            <span class="k">if</span> <span class="n">group_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">implements</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">):</span>
                <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;implements&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s">&#39;implements&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="s">&#39;:&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">implements</span><span class="p">,</span> <span class="n">group_name</span><span class="p">]))</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s">&#39;implements&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">group_name</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DataExchangeFile.add_entry"><a class="viewcode-back" href="../../../resources/dataexchange.xtomo.data_exchange.html#dataexchange.xtomo.data_exchange.DataExchangeFile.add_entry">[docs]</a>    <span class="k">def</span> <span class="nf">add_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dexen_ob</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. add_entry(self, dexen_ob, overwrite=False)</span>

<span class="sd">            This method is used to parse DataExchangeEntry objects and add them to the DataExchangeFile.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">dexen_ob</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span><span class="p">:</span>
            <span class="n">dexen_ob</span> <span class="o">=</span> <span class="p">[</span><span class="n">dexen_ob</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">dexen</span> <span class="ow">in</span> <span class="n">dexen_ob</span><span class="p">:</span>

            <span class="c"># Does HDF5 path exist?</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">dexen</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">path</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">create_top_level_group</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

            <span class="n">root</span> <span class="o">=</span> <span class="n">dexen</span><span class="o">.</span><span class="n">root</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">require_group</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">root</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="s">&#39;entry_name&#39;</span><span class="p">)]))</span>

            <span class="n">dsets</span> <span class="o">=</span> <span class="p">[</span><span class="n">ds</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">dexen</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">ds</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)]</span>
            <span class="p">[</span><span class="n">dsets</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;entry_name&#39;</span><span class="p">,</span> <span class="s">&#39;root&#39;</span><span class="p">,</span> <span class="s">&#39;docstring&#39;</span><span class="p">]]</span>

            <span class="k">for</span> <span class="n">ds_name</span> <span class="ow">in</span> <span class="n">dsets</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)[</span><span class="s">&#39;value&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s">&#39;dataset_opts&#39;</span> <span class="ow">in</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">opts</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)[</span><span class="s">&#39;dataset_opts&#39;</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">opts</span><span class="o">=</span><span class="p">{}</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">root</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="s">&#39;entry_name&#39;</span><span class="p">)])]</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="n">ds_name</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)[</span><span class="s">&#39;value&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;value&#39;</span><span class="p">,</span> <span class="s">&#39;docstring&#39;</span><span class="p">,</span><span class="s">&#39;dataset_opts&#39;</span><span class="p">]:</span>
                                <span class="k">pass</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)[</span><span class="n">key</span><span class="p">]</span>
                    <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                        <span class="c"># Likely cause of runtime error is dataset already existing in file</span>
                        <span class="n">dataset_exists</span> <span class="o">=</span> <span class="n">ds_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">root</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="s">&#39;entry_name&#39;</span><span class="p">)])]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">dataset_exists</span><span class="p">:</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span><span class="p">:</span>
                                <span class="k">print</span><span class="p">(</span><span class="s">&#39;WARNING: Dataset {:s} already exists. This entry has been skipped.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ds_name</span><span class="p">))</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="c"># The overwite flag is set so delete the existing dataset and write the new one in its place</span>
                                <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">root</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="s">&#39;entry_name&#39;</span><span class="p">),</span> <span class="n">ds_name</span><span class="p">])]</span>
                                <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">root</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="s">&#39;entry_name&#39;</span><span class="p">)])]</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="n">ds_name</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)[</span><span class="s">&#39;value&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span>
                                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;value&#39;</span><span class="p">,</span> <span class="s">&#39;docstring&#39;</span><span class="p">,</span><span class="s">&#39;dataset_opts&#39;</span><span class="p">]:</span>
                                        <span class="k">pass</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dexen</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">)[</span><span class="n">key</span><span class="p">]</span>


                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">raise</span>

</div></div>
<div class="viewcode-block" id="DataExchangeEntry"><a class="viewcode-back" href="../../../resources/dataexchange.xtomo.data_exchange.html#dataexchange.xtomo.data_exchange.DataExchangeEntry">[docs]</a><span class="k">class</span> <span class="nc">DataExchangeEntry</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_entry_definitions</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_generate_classes</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">_entry_definitions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ..method:: _entry_definitions(self)</span>

<span class="sd">            This method contains the archetypes for Data Exchange file entries.</span>

<span class="sd">            The syntax for an entry is:</span>
<span class="sd">                *&#39;root&#39;: The HDF5 path where this entry will be created (e.g. &#39;/measurement_3/sample&#39; or &#39;/exchange/&#39;).</span>
<span class="sd">                *&#39;entry_name&#39;: The name of entry (e.g. &#39;monochromator&#39; or &#39;sample_7&#39;). It is a HDF5 Group.</span>
<span class="sd">                *&#39;docstring&#39;: Describes this type of entry. E.g for sample: &quot;The sample measured.&quot;</span>
<span class="sd">                                    *This is used only for autogegnerating documentation for DataExchangeEntry.</span>
<span class="sd">                                    *It does not get written to the DataExchangeFile.</span>
<span class="sd">                *&#39;ENTRY&#39;:   An entry is a dataset with attributes under the &#39;name&#39; group.</span>
<span class="sd">                            Each &#39;ENTRY&#39; must have:</span>
<span class="sd">                                * value: The dataset</span>
<span class="sd">                            Each &#39;ENTRY&#39; should have:</span>
<span class="sd">                                * units: Units for value - an attribute of the dataset</span>
<span class="sd">                                * docstring: Used for autogenerating documentation</span>
<span class="sd">                            Each &#39;ENTRY&#39; can have (i.e optional):</span>
<span class="sd">                                *&#39;dataset_opts&#39;: Options passed to the create_dataset function. E.g.:</span>
<span class="sd">                                *&#39;dataset_opts&#39;: {&#39;compression&#39;:&#39;gzip&#39;, &#39;compression_opts&#39;:4}</span>
<span class="sd">                            Where a value is ``None`` this entry will not be added to the DataExchangeFile.</span>
<span class="sd">                            &#39;ENTRY&#39; can have any other parameter and these will be treated as HDF5 dataset attributes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/exchange&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The result of the measurement.&#39;</span><span class="p">,</span>
            <span class="s">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;counts&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The result of the measurement.&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sample</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;sample&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The sample measured.&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Descriptive name of the sample.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;description&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Description of the sample.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;preparation date&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Date and time the sample was prepared.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;chemical formula&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Sample chemical formula using the CIF format.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;mass&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;kg&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Mass of the sample.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;concentration&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;kgm^-3&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Mass/volume.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;environment&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Sample environment.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;temperature&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;kelvin&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Sample temperature.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;temperature set&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;kelvin&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Sample temperature set point.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;pressure&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;kPa&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Sample pressure.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;thickness&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Sample thickness.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;position&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Sample position in the sample changer/robot.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;comment&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;comment&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/sample&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;geometry&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The general position and orientation of a component&#39;</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_experiment</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/sample&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;experiment&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;This provides references to facility ids for the proposal, scheduled activity, and safety form.&#39;</span><span class="p">,</span>
            <span class="s">&#39;proposal&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Proposal reference number. For the APS this is the General User Proposal number.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;activity&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Proposal scheduler id. For the APS this is the beamline scheduler activity id.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;safety&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Safety reference document. For the APS this is the Experiment Safety Approval Form number.&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_experimenter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/sample&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;experimenter&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Description of a single experimenter.&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;User name.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;role&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;User role.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;affiliation&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;User affiliation.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;address&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;User address.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;phone&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;User phone number.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;User email address.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;facility_user_id&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;User badge number.&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_exchange</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;exchange&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Used for grouping the results of the measurement&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Description of the data contained inside&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_instrument</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;All relevant beamline components status at the beginning of a measurement&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Name of the instrument.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;comment&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;comment&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;source&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The light source being used&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Name of the facility.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;datetime&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Date and time source was measured.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;beamline&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Name of the beamline.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;current&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;A&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Electron beam current (A).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;energy&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;J&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Characteristic photon energy of the source (J). For an APS bending magnet this is 30 keV or 4.807e-15 J.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;pulse_energy&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;J&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Sum of the energy of all the photons in the pulse (J).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;pulse_width&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;s&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Duration of the pulse (s).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;top-up&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;beam intensity incident&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;phs^-1&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Incident beam intensity in (photons per s).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;beam intensity transmitted&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;phs^-1&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Transmitted beam intensity (photons per s).&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_shutter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;shutter&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The shutter being used&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Name of the shutter.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;status&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;&quot;OPEN&quot; or &quot;CLOSED&quot; or &quot;NORMAL&quot;&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_amplifier</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;amplifier&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Amplifier settings.&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Name of the amplifier.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;gain&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Amplifier gain setting&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;gain units&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Amplifier gain units&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;current&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The current recorded by the amplifier.&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_attenuator</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;attenuator&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;X-ray beam attenuator.&#39;</span><span class="p">,</span>
            <span class="s">&#39;distance&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Distance from the sample&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;thickness&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Thickness of attenuator along beam direction&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;attenuator_transmission&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;None&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The nominal amount of the beam that gets through (transmitted intensity)/(incident intensity)&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Type or composition of attenuator&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_monochromator</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;monochromator&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;X-ray beam monochromator.&#39;</span><span class="p">,</span>
            <span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Multilayer type.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;energy&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;J&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Peak of the spectrum that the monochromator selects. Since units is not defined this field is in J and corresponds to 10 keV&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;energy_error&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;J&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Standard deviation of the spectrum that the monochromator selects. Since units is not defined this field is in J.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;mono_stripe&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Type of multilayer coating or crystal.&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_detector</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;detector&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;X-ray detector.&#39;</span><span class="p">,</span>
            <span class="s">&#39;manufacturer&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector manufacturer.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;model&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector model&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;serial_number&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector serial number.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;bit_depth&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;dimensionless&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector ADC bit depth.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;x_pixel_size&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Physical detector pixel size (m).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;y_pixel_size&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Physical detector pixel size (m).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;x_actual_pixel_size&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Pixel size on the sample plane (m).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;y_actual_pixel_size&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Pixel size on the sample plane (m).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;x_dimension&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;pixels&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector horiz. dimension.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;y_dimension&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector vertical dimension.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;x_binning&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;pixels&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;If the data are collected binning the detector x binning and y binning store the binning factor.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;y_binning&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;dimensionless&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;If the data are collected binning the detector x binning and y binning store the binning factor.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;operating_temperature&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;dimensionless&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector operating temperature (K).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;exposure_time&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;s&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector exposure time (s).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;delay_time&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;s&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Detector delay time (s). This is used in combination with a mechanical shutter.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;stabilization_time&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;s&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Detector delay time (s). This is used during stop and go data collection to allow the sample to stabilize.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;frame_rate&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;fps&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The detector frame rate (fps).&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;output_data&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;String HDF5 path to the exchange group where the detector output data is located.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;counts_per_joule&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;counts&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Number of counts recorded per each joule of energy received by the detector&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;basis_vectors&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;fps&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;A matrix with the basis vectors of the detector data.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;corner_position&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;fps&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The x, y and z coordinates of the corner of the first data element.&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_roi</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument/detector&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;roi_1&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;region of interest (ROI) of the image actually collected, if smaller than the full CCD.&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;ROI name&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;x1&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;pixels&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Left pixel position&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;x2&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;pixels&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Right pixel position&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;y1&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;pixels&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Top pixel position&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;y2&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;pixels&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Bottom pixel position&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_objective</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument/detector&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;objective&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;microscope objective lenses used.&#39;</span><span class="p">,</span>
            <span class="s">&#39;manufacturer&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Lens manufacturer&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;model&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Lens model.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;magnification&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;dimensionless&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Lens specified magnification&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;numerical_aperture&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;dimensionless&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;The numerical aperture (N.A.) is a measure of the light-gathering characteristics of the lens.&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scintillator</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument/detector&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;scintillator&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;microscope objective lenses used.&#39;</span><span class="p">,</span>
            <span class="s">&#39;manufacturer&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Scintillator Manufacturer.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;serial_number&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Scintillator serial number.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;dimensionless&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Scintillator name.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;scintillating_thickness&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;dimensionless&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Scintillator thickness.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;substrate_thickness&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;dimensionless&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Scintillator substrate thickness.&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_translation</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/exchange/geometry&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;translation&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;This is the description for the general spatial location of a component.&#39;</span><span class="p">,</span>
            <span class="s">&#39;distances&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;x,y,zcomponents of translation.&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_orientation</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/exchange/geometry&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;orientation&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;This is the description for the orientation of a component.&#39;</span><span class="p">,</span>
            <span class="s">&#39;distances&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;Calling the local unit vectors (x0; y0; z0) and the reference unit vectors (x; y; z)&#39;</span>
                    <span class="s">&#39;the six numbers will be [x0 . x; x0 . y; x0 . z; y0 . x; y0 . y; y0 . z] where &quot;.&quot;&quot; is the scalar dot&#39;</span>
                    <span class="s">&#39;product (cosine of the angle between the unit vectors).&#39;</span><span class="p">)</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_simulation</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/simulation&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Describes parameters used to generate simulate data.&#39;</span><span class="p">,</span>
            <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;m&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Name of the simulation&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_setup</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;setup&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Tomography specific tag to store motor positions that are static during data collection.&#39;</span><span class="p">,</span>
            <span class="s">&#39;sample_x&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of the X stage under the rotary motor.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;sample_y&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of the Y stage under the rotary motor.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;sample_z&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of the Z stage under the rotary motor.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;sample_xx&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of the X stage on top of the rotary motor.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;sample_zz&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of the Z stage on top of the rotary motor.&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_interferometer</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument/setup/&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;interferometer&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Tomography specific tag to store interferometer parameters.&#39;</span><span class="p">,</span>
            <span class="s">&#39;grid_start&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Interferometer grid start.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;grid_end&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Interferometer grid end.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;number_of_grid_periods&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Interferometer number of grid periods.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;number_of_grid_steps&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Interferometer number of grid steps.&#39;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="s">&#39;/measurement/instrument&#39;</span><span class="p">,</span>
            <span class="s">&#39;entry_name&#39;</span><span class="p">:</span> <span class="s">&#39;acquisition&#39;</span><span class="p">,</span>
            <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Tomography specific tag to store scan parameters.&#39;</span><span class="p">,</span>
            <span class="s">&#39;start_date&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Date and time measurement starts.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;end_date&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Date and time measurement ends.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;number_of_projections&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Number of projections.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;number_of_darks&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Number of dark images.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;number_of_flats&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Number of flat/white images.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;sample_in&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of the sample axis (x or y) used for taking the sample out of the beam during data collection.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;sample_out&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;mm&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of the sample axis (x or y) used for taking the sample out of the beam during the flat field data collection.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;rotation_start_angle&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;degree&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of rotation axis at the end of data collection.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;rotation_end_angle&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;degree&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Position of rotation axis at the start of the data collection.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;angular_step&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;degree&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Rotation axis angular step used during data collection.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;Scan mode: continuos or stop-go.&#39;</span>
            <span class="p">},</span>
            <span class="s">&#39;comment&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="s">&#39;units&#39;</span><span class="p">:</span> <span class="s">&#39;text&#39;</span><span class="p">,</span>
                <span class="s">&#39;docstring&#39;</span><span class="p">:</span> <span class="s">&#39;comment&#39;</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_generate_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. method:: generate_classes(self)</span>

<span class="sd">            This method is used to turn the DataExchangeEntry._entry_definitions into generate_classes</span>
<span class="sd">            which can be instantitated for hold data.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kw</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">kw</span><span class="p">])</span>

        <span class="c"># Generate a class for each entry definition</span>
        <span class="k">for</span> <span class="n">entry_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__dict__</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">entry_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">):</span>
                    <span class="n">entry_type</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry_name</span><span class="p">)</span>
                    <span class="n">entry_name</span> <span class="o">=</span> <span class="n">entry_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                    <span class="k">if</span> <span class="n">entry_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">DataExchangeEntry</span><span class="o">.</span><span class="n">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">entry_type</span><span class="p">[</span><span class="s">&#39;__base__&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">DataExchangeEntry</span>
                        <span class="n">entry_type</span><span class="p">[</span><span class="s">&#39;__name__&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">entry_type</span><span class="p">[</span><span class="s">&#39;entry_name&#39;</span><span class="p">]</span>
                        <span class="n">entry_type</span><span class="p">[</span><span class="s">&#39;__init__&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">__init__</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="n">DataExchangeEntry</span><span class="p">,</span> <span class="n">entry_name</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">entry_type</span><span class="p">[</span><span class="s">&#39;entry_name&#39;</span><span class="p">],</span> <span class="p">(</span><span class="nb">object</span><span class="p">,),</span> <span class="n">entry_type</span><span class="p">))</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Unable to create DataExchangeEntry for {:s}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">entry_name</span><span class="p">))</span>
                <span class="k">raise</span>
</div>
<span class="n">DataExchangeEntry</span><span class="p">()</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Data Exchange 0.2 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Argonne National Laboratory.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>