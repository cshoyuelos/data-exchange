<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>EDF &mdash; Data Exchange 0.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Data Exchange 0.2 documentation" href="../index.html" />
    <link rel="up" title="Formats" href="dataexchange.xtomo.formats.html" />
    <link rel="next" title="SPE" href="dataexchange.xtomo.formats.data_spe.html" />
    <link rel="prev" title="tiff" href="dataexchange.xtomo.formats.tifffile.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dataexchange.xtomo.formats.data_spe.html" title="SPE"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dataexchange.xtomo.formats.tifffile.html" title="tiff"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Data Exchange 0.2 documentation</a> &raquo;</li>
          <li><a href="dataexchange.html" >Data Exchange</a> &raquo;</li>
          <li><a href="dataexchange.xtomo.html" >Submodules</a> &raquo;</li>
          <li><a href="dataexchange.xtomo.formats.html" accesskey="U">Formats</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-dataexchange.xtomo.formats.EdfFile">
<span id="edf"></span><h1>EDF<a class="headerlink" href="#module-dataexchange.xtomo.formats.EdfFile" title="Permalink to this headline">¶</a></h1>
<p>EdfFile.py
Generic class for Edf files manipulation.</p>
<div class="section" id="interface">
<h2>Interface:<a class="headerlink" href="#interface" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>class EdfFile:          </dt>
<dd>__init__(self,FileName) 
GetNumImages(self)
def GetData(self,Index, DataType=&#8221;&#8221;,Pos=None,Size=None):
GetPixel(self,Index,Position)
GetHeader(self,Index)
GetStaticHeader(self,Index)
WriteImage (self,Header,Data,Append=1,DataType=&#8221;&#8221;,WriteAsUnsigened=0,ByteOrder=&#8221;&#8221;)</dd>
</dl>
</div>
<div class="section" id="edf-format-assumptions">
<h2>Edf format assumptions:<a class="headerlink" href="#edf-format-assumptions" title="Permalink to this headline">¶</a></h2>
<p>The following details were assumed for this implementation:
- Each Edf file contains a certain number of data blocks.
- Each data block represents data stored in an one, two or three-dimensional array.
- Each data block contains a header section, written in ASCII, and a data section of</p>
<blockquote>
<div>binary information.</div></blockquote>
<ul>
<li><p class="first">The size of the header section in bytes is a multiple of 1024. The header is
padded with spaces (0x20). If the header is not padded to a multiple of 1024,
the file is recognized, but the output is always made in this format.</p>
</li>
<li><p class="first">The header section starts by &#8216;{&#8216; and finishes by &#8216;}&#8217;. It is composed by several
pairs &#8216;keyword = value;&#8217;. The keywords are case insensitive, but the values are case
sensitive. Each pair is put in a new line (they are separeted by 0x0A). In the
end of each line, a semicolon (;) separes the pair of a comment, not interpreted.
Exemple:</p>
<blockquote>
<div><p>{
; Exemple Header
HeaderID = EH:000001:000000:000000    ; automatically generated
ByteOrder = LowByteFirst              ; 
DataType = FloatValue                 ; 4 bytes per pixel
Size = 4000000                        ; size of data section
Dim_1= 1000                           ; x coordinates
Dim_2 = 1000                          ; y coordinates</p>
<p>(padded with spaces to complete 1024 bytes)
}</p>
</div></blockquote>
</li>
<li><p class="first">There are some fields in the header that are required for this implementation. If any of
these is missing, or inconsistent, it will be generated an error:</p>
<blockquote>
<div><p>Size: Represents size of data block
Dim_1: size of x coordinates (Dim_2 for 2-dimentional images, and also Dim_3 for 3d)
DataType
ByteOrder</p>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>For the written images, these fields are automatically genereted:</dt>
<dd><p class="first last">Size,Dim_1 (Dim_2 and Dim_3, if necessary), Byte Order, DataType, HeaderID and Image</p>
</dd>
</dl>
<p>These fields are called here &#8220;static header&#8221;, and can be retrieved by the method
GetStaticHeader. Other header components are taken by GetHeader. Both methods returns
a dictionary in which the key is the keyword of the pair. When writting an image through
WriteImage method, the Header parameter should not contain the static header information,
which is automatically generated.</p>
</li>
<li><p class="first">The indexing of images through these functions is based just on the 0-based position in
the file, the header items HeaderID and Image are not considered for referencing the
images.</p>
</li>
<li><p class="first">The data section contais a number of bytes equal to the value of Size keyword. Data
section is going to be translated into an 1D, 2D or 3D Numpy Array, and accessed
through GetData method call.</p>
</li>
</ul>
<dl class="class">
<dt id="dataexchange.xtomo.formats.EdfFile.EdfFile">
<em class="property">class </em><tt class="descclassname">dataexchange.xtomo.formats.EdfFile.</tt><tt class="descname">EdfFile</tt><big>(</big><em>FileName</em>, <em>access=None</em>, <em>fastedf=None</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#EdfFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.EdfFile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="dataexchange.xtomo.formats.EdfFile.EdfFile.GetData">
<tt class="descname">GetData</tt><big>(</big><em>*var</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#EdfFile.GetData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.EdfFile.GetData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dataexchange.xtomo.formats.EdfFile.EdfFile.GetDefaultNumpyType">
<tt class="descname">GetDefaultNumpyType</tt><big>(</big><em>EdfType</em>, <em>index=None</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#EdfFile.GetDefaultNumpyType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.EdfFile.GetDefaultNumpyType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns NumPy type according Edf type</p>
</dd></dl>

<dl class="method">
<dt id="dataexchange.xtomo.formats.EdfFile.EdfFile.GetHeader">
<tt class="descname">GetHeader</tt><big>(</big><em>Index</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#EdfFile.GetHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.EdfFile.GetHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns dictionary with image header fields.
Does not include the basic fields (static) defined by data shape, 
type and file position. These are get with GetStaticHeader
method.
Index:          The zero-based index of the image in the file</p>
</dd></dl>

<dl class="method">
<dt id="dataexchange.xtomo.formats.EdfFile.EdfFile.GetNumImages">
<tt class="descname">GetNumImages</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#EdfFile.GetNumImages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.EdfFile.GetNumImages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of images of the object (and associated file)</p>
</dd></dl>

<dl class="method">
<dt id="dataexchange.xtomo.formats.EdfFile.EdfFile.GetPixel">
<tt class="descname">GetPixel</tt><big>(</big><em>Index</em>, <em>Position</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#EdfFile.GetPixel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.EdfFile.GetPixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns double value of the pixel, regardless the format of the array
Index:      The zero-based index of the image in the file
Position:   Tuple with the coordinete (x), (x,y) or (x,y,z)</p>
</dd></dl>

<dl class="method">
<dt id="dataexchange.xtomo.formats.EdfFile.EdfFile.GetStaticHeader">
<tt class="descname">GetStaticHeader</tt><big>(</big><em>Index</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#EdfFile.GetStaticHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.EdfFile.GetStaticHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns dictionary with static parameters
Data format and file position dependent information
(dim1,dim2,size,datatype,byteorder,headerId,Image)
Index:          The zero-based index of the image in the file</p>
</dd></dl>

<dl class="method">
<dt id="dataexchange.xtomo.formats.EdfFile.EdfFile.WriteImage">
<tt class="descname">WriteImage</tt><big>(</big><em>*var</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#EdfFile.WriteImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.EdfFile.WriteImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="dataexchange.xtomo.formats.EdfFile.GetDefaultNumpyType">
<tt class="descclassname">dataexchange.xtomo.formats.EdfFile.</tt><tt class="descname">GetDefaultNumpyType</tt><big>(</big><em>EdfType</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#GetDefaultNumpyType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.GetDefaultNumpyType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns NumPy type according Edf type</p>
</dd></dl>

<dl class="function">
<dt id="dataexchange.xtomo.formats.EdfFile.GetRegion">
<tt class="descclassname">dataexchange.xtomo.formats.EdfFile.</tt><tt class="descname">GetRegion</tt><big>(</big><em>Arr</em>, <em>Pos</em>, <em>Size</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#GetRegion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.GetRegion" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns array with refion of Arr.
Arr must be 1d, 2d or 3d
Pos and Size are tuples in the format (x) or (x,y) or (x,y,z)
Both parameters must have the same size as the dimention of Arr</p>
</dd></dl>

<dl class="class">
<dt id="dataexchange.xtomo.formats.EdfFile.Image">
<em class="property">class </em><tt class="descclassname">dataexchange.xtomo.formats.EdfFile.</tt><tt class="descname">Image</tt><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#Image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.Image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="dataexchange.xtomo.formats.EdfFile.SetDictCase">
<tt class="descclassname">dataexchange.xtomo.formats.EdfFile.</tt><tt class="descname">SetDictCase</tt><big>(</big><em>Dict</em>, <em>Case</em>, <em>Flag</em><big>)</big><a class="reference internal" href="../_modules/dataexchange/xtomo/formats/EdfFile.html#SetDictCase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataexchange.xtomo.formats.EdfFile.SetDictCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns dictionary with keys and/or values converted into upper or lowercase
Dict:   input dictionary
Case:   LOWER_CASE, UPPER_CASE
Flag:   KEYS, VALUES or KEYS | VALUES</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">EDF</a><ul>
<li><a class="reference internal" href="#interface">Interface:</a></li>
<li><a class="reference internal" href="#edf-format-assumptions">Edf format assumptions:</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dataexchange.xtomo.formats.tifffile.html"
                        title="previous chapter">tiff</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dataexchange.xtomo.formats.data_spe.html"
                        title="next chapter">SPE</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/resources/dataexchange.xtomo.formats.EdfFile.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dataexchange.xtomo.formats.data_spe.html" title="SPE"
             >next</a> |</li>
        <li class="right" >
          <a href="dataexchange.xtomo.formats.tifffile.html" title="tiff"
             >previous</a> |</li>
        <li><a href="../index.html">Data Exchange 0.2 documentation</a> &raquo;</li>
          <li><a href="dataexchange.html" >Data Exchange</a> &raquo;</li>
          <li><a href="dataexchange.xtomo.html" >Submodules</a> &raquo;</li>
          <li><a href="dataexchange.xtomo.formats.html" >Formats</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Argonne National Laboratory.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>